Deep dive into functions and nested loop
